<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AWS EC2 ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            backdrop-filter: blur(10px);
        }
        
        .header {
            background: linear-gradient(135deg, #FF6B35 0%, #F7931E 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 10px,
                rgba(255, 255, 255, 0.05) 10px,
                rgba(255, 255, 255, 0.05) 20px
            );
            animation: shimmer 20s linear infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }
        
        .header p {
            font-size: 1.2rem;
            position: relative;
            z-index: 1;
            opacity: 0.9;
        }
        
        .content {
            padding: 40px;
        }
        
        .tabs {
            display: flex;
            border-bottom: 3px solid #e0e0e0;
            margin-bottom: 30px;
            background: #f8f9fa;
            border-radius: 10px 10px 0 0;
        }
        
        .tab {
            padding: 15px 25px;
            cursor: pointer;
            background: transparent;
            border: none;
            font-size: 1.1rem;
            font-weight: 600;
            color: #666;
            transition: all 0.3s ease;
            position: relative;
            flex: 1;
            text-align: center;
        }
        
        .tab.active {
            color: #FF6B35;
            background: white;
            border-radius: 10px 10px 0 0;
        }
        
        .tab:hover {
            color: #FF6B35;
            transform: translateY(-2px);
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease-in;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .diagram-container {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .diagram-svg {
            width: 100%;
            height: auto;
            max-height: 800px;
        }
        
        .component {
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .component:hover {
            transform: scale(1.05);
            filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.3));
        }
        
        .aws-component { fill: #FF9900; }
        .terraform-component { fill: #623CE4; }
        .ansible-component { fill: #EE0000; }
        .newrelic-component { fill: #00AC69; }
        .flow-arrow { stroke: #333; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
        
        .component-text {
            font-family: 'Segoe UI', sans-serif;
            font-size: 12px;
            font-weight: 600;
            fill: white;
            text-anchor: middle;
            dominant-baseline: middle;
        }
        
        .section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            border-left: 5px solid #FF6B35;
        }
        
        .section h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section h3 {
            color: #555;
            margin: 20px 0 15px 0;
            font-size: 1.3rem;
            border-bottom: 2px solid #eee;
            padding-bottom: 8px;
        }
        
        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .tech-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            transform: translateY(0);
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }
        
        .tech-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        }
        
        .tech-card h4 {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        
        .flow-step {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
            position: relative;
            overflow: hidden;
        }
        
        .flow-step::before {
            content: attr(data-step);
            position: absolute;
            top: 10px;
            right: 15px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .status-indicator {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .status-deployed { background: #4CAF50; color: white; }
        .status-disabled { background: #FF9800; color: white; }
        .status-pending { background: #2196F3; color: white; }
        
        .resource-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .resource-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #FF6B35;
            transition: all 0.3s ease;
        }
        
        .resource-item:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }
        
        .resource-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }
        
        .resource-detail {
            font-size: 0.9rem;
            color: #666;
            line-height: 1.4;
        }
        
        .highlight {
            background: linear-gradient(120deg, #a8edea 0%, #fed6e3 100%);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 5px solid #FF6B35;
        }
        
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
            margin: 15px 0;
            overflow-x: auto;
            box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3);
        }
        
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .content {
                padding: 20px;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .tech-stack {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ—ï¸ AWS EC2 ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ </h1>
            <p>Terraformãƒ»Ansibleãƒ»New Relicã«ã‚ˆã‚‹è‡ªå‹•åŒ–ã•ã‚ŒãŸç›£è¦–åŸºç›¤</p>
        </div>
        
        <div class="content">
            <div class="tabs">
                <button class="tab active" onclick="showTab('diagram')">ğŸ“Š æ§‹æˆå›³</button>
                <button class="tab" onclick="showTab('overview')">ğŸ“‹ æ¦‚è¦</button>
                <button class="tab" onclick="showTab('components')">ğŸ”§ ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</button>
                <button class="tab" onclick="showTab('flow')">âš¡å‡¦ç†ãƒ•ãƒ­ãƒ¼</button>
                <button class="tab" onclick="showTab('status')">ğŸ“ˆ ç¾çŠ¶</button>
            </div>
            
            <div id="diagram" class="tab-content active">
                <div class="diagram-container">
                    <svg class="diagram-svg" viewBox="0 0 1200 800">
                        <!-- èƒŒæ™¯ã‚°ãƒªãƒƒãƒ‰ -->
                        <defs>
                            <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
                                <path d="M 20 0 L 0 0 0 20" fill="none" stroke="#e0e0e0" stroke-width="0.5"/>
                            </pattern>
                            <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                                <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
                            </marker>
                        </defs>
                        <rect width="100%" height="100%" fill="url(#grid)" />
                        
                        <!-- AWS Cloud Area -->
                        <rect x="50" y="80" width="700" height="500" fill="none" stroke="#FF9900" stroke-width="3" stroke-dasharray="10,5" rx="15"/>
                        <text x="400" y="70" class="component-text" fill="#FF9900" font-size="16">AWS Cloud</text>
                        
                        <!-- VPC Area -->
                        <rect x="80" y="120" width="640" height="420" fill="none" stroke="#FF9900" stroke-width="2" stroke-dasharray="5,3" rx="10"/>
                        <text x="400" y="115" class="component-text" fill="#FF9900" font-size="14">VPC (vpc-0980f0041c555ae46)</text>
                        
                        <!-- Public Subnet -->
                        <rect x="110" y="160" width="280" height="160" fill="rgba(255, 153, 0, 0.1)" stroke="#FF9900" stroke-width="1" rx="8"/>
                        <text x="250" y="155" class="component-text" fill="#FF9900" font-size="12">Public Subnet</text>
                        
                        <!-- EC2 Instance -->
                        <rect x="140" y="190" width="220" height="100" class="aws-component component" rx="10"/>
                        <text x="250" y="230" class="component-text">EC2 Instance</text>
                        <text x="250" y="245" class="component-text" font-size="10">i-0ea29d1ebd3b8901f</text>
                        <text x="250" y="260" class="component-text" font-size="10">Amazon Linux 2023</text>
                        <text x="250" y="275" class="component-text" font-size="10">Tag: cloudpack_newrelic=enabled</text>
                        
                        <!-- Internet Gateway -->
                        <rect x="420" y="190" width="120" height="60" class="aws-component component" rx="8"/>
                        <text x="480" y="215" class="component-text">Internet GW</text>
                        <text x="480" y="230" class="component-text" font-size="10">igw-0ed7e7a75a8bde569</text>
                        
                        <!-- Private Area -->
                        <rect x="110" y="360" width="580" height="160" fill="rgba(255, 153, 0, 0.05)" stroke="#FF9900" stroke-width="1" stroke-dasharray="3,2" rx="8"/>
                        <text x="400" y="355" class="component-text" fill="#FF9900" font-size="12">AWS Services</text>
                        
                        <!-- SSM -->
                        <rect x="140" y="390" width="100" height="60" class="aws-component component" rx="8"/>
                        <text x="190" y="415" class="component-text">SSM</text>
                        <text x="190" y="430" class="component-text" font-size="10">State Manager</text>
                        
                        <!-- S3 -->
                        <rect x="270" y="390" width="100" height="60" class="aws-component component" rx="8"/>
                        <text x="320" y="415" class="component-text">S3 Bucket</text>
                        <text x="320" y="430" class="component-text" font-size="10">Ansible ZIP</text>
                        
                        <!-- Parameter Store -->
                        <rect x="400" y="390" width="120" height="60" class="aws-component component" rx="8"/>
                        <text x="460" y="415" class="component-text">Parameter Store</text>
                        <text x="460" y="430" class="component-text" font-size="10">New Relic License</text>
                        
                        <!-- IAM -->
                        <rect x="550" y="390" width="100" height="60" class="aws-component component" rx="8"/>
                        <text x="600" y="415" class="component-text">IAM Role</text>
                        <text x="600" y="430" class="component-text" font-size="10">EC2-SSM</text>
                        
                        <!-- Terraform AWS -->
                        <rect x="80" y="20" width="150" height="40" class="terraform-component component" rx="8"/>
                        <text x="155" y="45" class="component-text">Terraform (AWS)</text>
                        
                        <!-- Ansible -->
                        <rect x="800" y="200" width="150" height="80" class="ansible-component component" rx="10"/>
                        <text x="875" y="230" class="component-text">Ansible</text>
                        <text x="875" y="245" class="component-text" font-size="10">newrelic_setup.yml</text>
                        <text x="875" y="260" class="component-text" font-size="10">New Relic Agent</text>
                        <text x="875" y="275" class="component-text" font-size="10">Install & Config</text>
                        
                        <!-- New Relic Platform -->
                        <rect x="800" y="400" width="350" height="300" fill="rgba(0, 172, 105, 0.1)" stroke="#00AC69" stroke-width="3" stroke-dasharray="8,4" rx="15"/>
                        <text x="975" y="395" class="component-text" fill="#00AC69" font-size="16">New Relic Platform</text>
                        
                        <!-- New Relic Components -->
                        <rect x="830" y="430" width="120" height="50" class="newrelic-component component" rx="8"/>
                        <text x="890" y="455" class="component-text">Alert Policy</text>
                        <text x="890" y="468" class="component-text" font-size="10">tano-terraform-1036-2</text>
                        
                        <rect x="970" y="430" width="120" height="50" class="newrelic-component component" rx="8"/>
                        <text x="1030" y="455" class="component-text">Alert Conditions</text>
                        <text x="1030" y="468" class="component-text" font-size="10">CPU/Memory/Disk</text>
                        
                        <rect x="830" y="500" width="120" height="50" class="newrelic-component component" rx="8"/>
                        <text x="890" y="525" class="component-text">Notifications</text>
                        <text x="890" y="538" class="component-text" font-size="10">Email/Slack/PagerDuty</text>
                        
                        <rect x="970" y="500" width="120" height="50" class="newrelic-component component" rx="8"/>
                        <text x="1030" y="525" class="component-text">Workflow</text>
                        <text x="1030" y="538" class="component-text" font-size="10">Notification Rules</text>
                        
                        <!-- Terraform New Relic -->
                        <rect x="1000" y="350" width="150" height="40" class="terraform-component component" rx="8"/>
                        <text x="1075" y="375" class="component-text">Terraform (New Relic)</text>
                        
                        <!-- Arrows -->
                        <path d="M 155 60 L 155 80" class="flow-arrow"/>
                        <path d="M 250 190 L 190 160" class="flow-arrow"/>
                        <path d="M 250 290 L 190 360" class="flow-arrow"/>
                        <path d="M 250 290 L 320 360" class="flow-arrow"/>
                        <path d="M 250 290 L 460 360" class="flow-arrow"/>
                        <path d="M 360 240 L 420 220" class="flow-arrow"/>
                        <path d="M 750 240 L 800 240" class="flow-arrow"/>
                        <path d="M 875 280 L 875 320 L 950 320 L 950 400" class="flow-arrow"/>
                        <path d="M 1075 390 L 1075 430" class="flow-arrow"/>
                        
                        <!-- Data Flow Labels -->
                        <text x="400" y="320" class="component-text" fill="#666" font-size="10">SSM triggers Ansible</text>
                        <text x="775" y="235" class="component-text" fill="#666" font-size="10">Deploy Agent</text>
                        <text x="900" y="340" class="component-text" fill="#666" font-size="10">Monitor Data</text>
                    </svg>
                </div>
                
                <div class="highlight">
                    <h3>ğŸ¯ æ§‹æˆå›³ã®ãƒã‚¤ãƒ³ãƒˆ</h3>
                    <p>ã“ã®å›³ã¯ã€Terraformã«ã‚ˆã‚‹AWSã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰ã‹ã‚‰ã€Ansibleã«ã‚ˆã‚‹New Relicã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€ãã—ã¦New Relicã§ã®ç›£è¦–è¨­å®šã¾ã§ã®å…¨ä½“çš„ãªæµã‚Œã‚’è¡¨ç¾ã—ã¦ã„ã¾ã™ã€‚å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ã®ä¾å­˜é–¢ä¿‚ã¨é€šä¿¡ãƒ•ãƒ­ãƒ¼ãŒè¦–è¦šçš„ã«ç†è§£ã§ãã‚‹ã‚ˆã†è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚</p>
                </div>
            </div>
            
            <div id="overview" class="tab-content">
                <div class="section">
                    <h2>ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦</h2>
                    <p>æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€<strong>Infrastructure as Code</strong>ã®åŸå‰‡ã«åŸºã¥ãã€AWSã‚¯ãƒ©ã‚¦ãƒ‰ä¸Šã«EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æ§‹ç¯‰ã—ã€è‡ªå‹•çš„ã«New Relicç›£è¦–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ»è¨­å®šã™ã‚‹åŒ…æ‹¬çš„ãªè‡ªå‹•åŒ–ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚</p>
                    
                    <div class="tech-stack">
                        <div class="tech-card">
                            <h4>ğŸ—ï¸ Terraform</h4>
                            <p>AWSã‚¤ãƒ³ãƒ•ãƒ©ã¨New Relicç›£è¦–è¨­å®šã®ä¸¡æ–¹ã‚’ã‚³ãƒ¼ãƒ‰ã§ç®¡ç†</p>
                        </div>
                        <div class="tech-card">
                            <h4>âš™ï¸ Ansible</h4>
                            <p>SSMçµŒç”±ã§EC2ã«New Relicã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</p>
                        </div>
                        <div class="tech-card">
                            <h4>â˜ï¸ AWS</h4>
                            <p>EC2ã€VPCã€SSMã€S3ã€IAMãªã©ã®ã‚¯ãƒ©ã‚¦ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹</p>
                        </div>
                        <div class="tech-card">
                            <h4>ğŸ“Š New Relic</h4>
                            <p>åŒ…æ‹¬çš„ãªã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ç›£è¦–ã¨ã‚¢ãƒ©ãƒ¼ãƒˆæ©Ÿèƒ½</p>
                        </div>
                    </div>
                    
                    <div class="highlight">
                        <h3>ğŸŒŸ ä¸»ãªç‰¹å¾´</h3>
                        <ul style="margin-left: 20px; line-height: 1.8;">
                            <li><strong>å®Œå…¨è‡ªå‹•åŒ–:</strong> ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œã®ã¿ã§ã‚¤ãƒ³ãƒ•ãƒ©ã‹ã‚‰ç›£è¦–ã¾ã§å®Œå…¨æ§‹ç¯‰</li>
                            <li><strong>ã‚»ã‚­ãƒ¥ã‚¢ãªèªè¨¼:</strong> SSM Parameter Storeã«ã‚ˆã‚‹å®‰å…¨ãªèªè¨¼æƒ…å ±ç®¡ç†</li>
                            <li><strong>æŸ”è»Ÿãªè¨­å®š:</strong> Terraformã«ã‚ˆã‚‹è¨­å®šå¤‰æ›´ã¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†</li>
                            <li><strong>ã‚¹ã‚±ãƒ¼ãƒ©ãƒ–ãƒ«:</strong> ã‚¿ã‚°ãƒ™ãƒ¼ã‚¹ã§ã®ç›£è¦–å¯¾è±¡ç®¡ç†</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div id="components" class="tab-content">
                <div class="section">
                    <h2>ğŸ”§ ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè©³ç´°</h2>
                    
                    <h3>ğŸ—ï¸ AWSã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ (Terraformç®¡ç†)</h3>
                    <div class="resource-list">
                        <div class="resource-item">
                            <div class="resource-title">VPC & ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯</div>
                            <div class="resource-detail">
                                VPC ID: vpc-0980f0041c555ae46<br>
                                ãƒ‘ãƒ–ãƒªãƒƒã‚¯/ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚µãƒ–ãƒãƒƒãƒˆ<br>
                                ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤: igw-0ed7e7a75a8bde569
                            </div>
                        </div>
                        <div class="resource-item">
                            <div class="resource-title">EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹</div>
                            <div class="resource-detail">
                                ID: i-0ea29d1ebd3b8901f<br>
                                OS: Amazon Linux 2023 (t2.micro)<br>
                                Elastic IP: 3.114.255.128<br>
                                ã‚¿ã‚°: cloudpack_newrelic=enabled
                            </div>
                        </div>
                        <div class="resource-item">
                            <div class="resource-title">IAMãƒ­ãƒ¼ãƒ«</div>
                            <div class="resource-detail">
                                ãƒ­ãƒ¼ãƒ«å: tano-1036-ec2-ssm-role<br>
                                SSMç®¡ç†æ¨©é™ã€Parameter Storeèª­ã¿å–ã‚Š<br>
                                S3 Ansible ZIPèª­ã¿å–ã‚Šæ¨©é™
                            </div>
                        </div>
                        <div class="resource-item">
                            <div class="resource-title">SSM State Manager</div>
                            <div class="resource-detail">
                                ã‚¢ã‚½ã‚·ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³: NewRelic-Agent-Setup-via-Ansible<br>
                                ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«: 30åˆ†é–“éš”<br>
                                ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ: ã‚¿ã‚°ãƒ™ãƒ¼ã‚¹æŒ‡å®š
                            </div>
                        </div>
                    </div>
                    
                    <h3>âš™ï¸ Ansibleè¨­å®š</h3>
                    <div class="code-block">
# newrelic_setup.yml ã®ä¸»è¦æ§‹æˆ
- name: Install New Relic Infrastructure Agent
  hosts: localhost
  connection: local
  tasks:
    - name: Get New Relic License Key from SSM
      set_fact:
        newrelic_license_key: "{{ lookup('amazon.aws.ssm_parameter', '/tano-1036/newrelic/license_key') }}"
    
    - name: Install newrelic-infra package
      yum:
        name: newrelic-infra
        state: present
    
    - name: Start and enable New Relic service
      systemd:
        name: newrelic-infra
        state: started
        enabled: yes
                    </div>
                    
                    <h3>ğŸ“Š New Relicç›£è¦–è¨­å®š</h3>
                    <div class="resource-list">
                        <div class="resource-item">
                            <div class="resource-title">ã‚¢ãƒ©ãƒ¼ãƒˆãƒãƒªã‚·ãƒ¼</div>
                            <div class="resource-detail">
                                åå‰: tano-terraform-1036-2<br>
                                EC2æ­»æ´»ç›£è¦–ã€CPU/ãƒ¡ãƒ¢ãƒª/ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨ç‡ç›£è¦–
                            </div>
                        </div>
                        <div class="resource-item">
                            <div class="resource-title">é€šçŸ¥ãƒãƒ£ãƒãƒ«</div>
                            <div class="resource-detail">
                                Email: alert@cloudpack.jp<br>
                                Slack: C070MVDH8SC<br>
                                PagerDutyçµ±åˆ
                            </div>
                        </div>
                        <div class="resource-item">
                            <div class="resource-title">ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°æ¡ä»¶</div>
                            <div class="resource-detail">
                                AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆ: 040678122487<br>
                                ãƒ©ãƒ™ãƒ«: cloudpack_newrelic = 'enabled'
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="flow" class="tab-content">
                <div class="section">
                    <h2>âš¡ è‡ªå‹•åŒ–å‡¦ç†ãƒ•ãƒ­ãƒ¼</h2>
                    
                    <div class="flow-step" data-step="1">
                        <h4>ğŸ—ï¸ AWSã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰</h4>
                        <p>Terraform (aws/) ãŒVPCã€EC2ã€IAMãƒ­ãƒ¼ãƒ«ã€SSM Associationãªã©ã®åŸºç›¤ãƒªã‚½ãƒ¼ã‚¹ã‚’ãƒ—ãƒ­ãƒ“ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°</p>
                    </div>
                    
                    <div class="flow-step" data-step="2">
                        <h4>ğŸ“¦ Ansibleé…å‚™</h4>
                        <p>Ansibleãƒ—ãƒ¬ã‚¤ãƒ–ãƒƒã‚¯ä¸€å¼ã‚’ZIPåŒ–ã—ã¦S3ãƒã‚±ãƒƒãƒˆã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã€‚New Relicãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚­ãƒ¼ã‚’äº‹å‰ã«SSM Parameter Storeã«æ ¼ç´</p>
                    </div>
                    
                    <div class="flow-step" data-step="3">
                        <h4>ğŸ”„ SSMè‡ªå‹•å®Ÿè¡Œ</h4>
                        <p>SSM State ManagerãŒEC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ã‚¿ã‚°ã‚’æ¤œçŸ¥ã—ã€30åˆ†é–“éš”ã§Ansibleå®Ÿè¡Œã‚’ãƒˆãƒªã‚¬ãƒ¼</p>
                    </div>
                    
                    <div class="flow-step" data-step="4">
                        <h4>âš™ï¸ ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h4>
                        <p>EC2ä¸Šã§AnsibleãŒå®Ÿè¡Œã•ã‚Œã€SSMã‹ã‚‰ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã‚­ãƒ¼ã‚’å–å¾—ã—ã¦New Relicã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ»è¨­å®š</p>
                    </div>
                    
                    <div class="flow-step" data-step="5">
                        <h4>ğŸ“Š ç›£è¦–è¨­å®šé©ç”¨</h4>
                        <p>Terraform (newrelic/) ãŒNew Relicãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ä¸Šã«ã‚¢ãƒ©ãƒ¼ãƒˆãƒãƒªã‚·ãƒ¼ã€æ¡ä»¶ã€é€šçŸ¥ãƒãƒ£ãƒãƒ«ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’è‡ªå‹•æ§‹ç¯‰</p>
                    </div>
                    
                    <div class="flow-step" data-step="6">
                        <h4>ğŸ“ˆ ãƒ‡ãƒ¼ã‚¿é€ä¿¡é–‹å§‹</h4>
                        <p>New Relicã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒEC2ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚’åé›†ã—ã€New Relicãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã¸ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ãƒ‡ãƒ¼ã‚¿é€ä¿¡</p>
                    </div>
                    
                    <div class="flow-step" data-step="7">
                        <h4>ğŸš¨ ç›£è¦–ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆ</h4>
                        <p>è¨­å®šã•ã‚ŒãŸã‚¢ãƒ©ãƒ¼ãƒˆæ¡ä»¶ã«åŸºã¥ãã€ç•°å¸¸æ¤œçŸ¥æ™‚ã«ã¯ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼çµŒç”±ã§å„é€šçŸ¥ãƒãƒ£ãƒãƒ«ã¸ã‚¢ãƒ©ãƒ¼ãƒˆé€ä¿¡</p>
                    </div>
                    
                    <div class="highlight">
                        <h3>ğŸ”„ ç¶™ç¶šçš„ãªè‡ªå‹•åŒ–</h3>
                        <p>ã“ã®ãƒ•ãƒ­ãƒ¼ã¯ä¸€åº¦ã ã‘ã§ãªãã€<strong>SSM State Managerã«ã‚ˆã‚‹å®šæœŸå®Ÿè¡Œ</strong>ã«ã‚ˆã‚Šç¶™ç¶šçš„ã«ç¶­æŒã•ã‚Œã¾ã™ã€‚æ–°ã—ã„EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«é©åˆ‡ãªã‚¿ã‚°ã‚’ä»˜ä¸ã™ã‚‹ã ã‘ã§ã€è‡ªå‹•çš„ã«ç›£è¦–å¯¾è±¡ã«è¿½åŠ ã•ã‚Œã¾ã™ã€‚</p>
                    </div>
                </div>
            </div>
            
            <div id="status" class="tab-content">
                <div class="section">
                    <h2>ğŸ“ˆ ç¾åœ¨ã®ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ³</h2>
                    
                    <h3>âœ… å®Œäº†æ¸ˆã¿ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</h3>
                    <div class="resource-list">
                        <div class="resource-item">
                            <div class="resource-title">AWSã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ <span class="status-indicator status-deployed">DEPLOYED</span></div>
                            <div class="resource-detail">
                                VPCã€EC2ã€IAMã€SSMã€S3ã®å…¨ãƒªã‚½ãƒ¼ã‚¹ãŒæ­£å¸¸ã«æ§‹ç¯‰æ¸ˆã¿<br>
                                TerraformçŠ¶æ…‹ç®¡ç†ã‚‚é©åˆ‡ã«å®Ÿè£…
                            </div>
                        </div>
                        <div class="resource-item">
                            <div class="resource-title">New Relicã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ <span class="status-indicator status-deployed">ACTIVE</span></div>
                            <div class="resource-detail">
                                ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 1.64.0 ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿<br>
                                ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†ãƒ»é€ä¿¡ãŒæ­£å¸¸ã«å‹•ä½œä¸­
                            </div>
                        </div>
                        <div class="resource-item">
                            <div class="resource-title">åŸºæœ¬ç›£è¦–è¨­å®š <span class="status-indicator status-deployed">CONFIGURED</span></div>
                            <div class="resource-detail">
                                ã‚¢ãƒ©ãƒ¼ãƒˆãƒãƒªã‚·ãƒ¼ã€æ¡ä»¶ã€é€šçŸ¥ãƒãƒ£ãƒãƒ«ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒæ§‹ç¯‰æ¸ˆã¿<br>
                                New Relic UIã§ãƒ›ã‚¹ãƒˆã¨ã—ã¦æ­£å¸¸èªè­˜
                            </div>
                        </div>
                    </div>
                    
                    <h3>âš ï¸ ç¾åœ¨ã®åˆ¶é™äº‹é …</h3>
                    <div class="resource-list">
                        <div class="resource-item">
                            <div class="resource-title">ã‚¢ãƒ©ãƒ¼ãƒˆé€šçŸ¥ <span class="status-indicator status-disabled">DISABLED</span></div>
                            <div class="resource-detail">
                                variable.tf ã® alert_main.notification = "false" ã«ã‚ˆã‚Šç„¡åŠ¹åŒ–<br>
                                ãƒ†ã‚¹ãƒˆå®Œäº†å¾Œã«æœ‰åŠ¹åŒ–äºˆå®š
                            </div>
                        </div>
                    </div>
                    
                    <h3>ğŸ¯ æ¬¡å›å®Ÿæ–½äºˆå®šä½œæ¥­</h3>
                    <div class="flow-step" data-step="1">
                        <h4>ğŸ” ãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶ç¢ºèª</h4>
                        <p>New Relicã‚¢ãƒ©ãƒ¼ãƒˆæ¡ä»¶ã® label.cloudpack_newrelic = 'enabled' ãƒ•ã‚£ãƒ«ã‚¿ãŒã€EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®å®Ÿéš›ã®ã‚¿ã‚°çŠ¶æ…‹ã¨æ•´åˆæ€§ãŒå–ã‚Œã¦ã„ã‚‹ã‹æœ€çµ‚ç¢ºèª</p>
                    </div>
                    
                    <div class="flow-step" data-step="2">
                        <h4>ğŸš¨ ã‚¢ãƒ©ãƒ¼ãƒˆæœ‰åŠ¹åŒ–</h4>
                        <p>newrelic/variable.tf ã® alert_main.notification ã‚’ "true" ã«å¤‰æ›´ã—ã€terraform apply ã§ã‚¢ãƒ©ãƒ¼ãƒˆé€šçŸ¥ã‚’æœ‰åŠ¹åŒ–</p>
                    </div>
                    
                    <div class="flow-step" data-step="3">
                        <h4>ğŸ§ª ã‚¢ãƒ©ãƒ¼ãƒˆãƒ†ã‚¹ãƒˆ</h4>
                        <p>EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«è² è·ã‚’ã‹ã‘ã¦ã‚¢ãƒ©ãƒ¼ãƒˆç™ºç«ã‚’ãƒ†ã‚¹ãƒˆã—ã€å„é€šçŸ¥ãƒãƒ£ãƒãƒ«ï¼ˆEmail/Slack/PagerDutyï¼‰ã¸ã®é€šçŸ¥ç¢ºèª</p>
                    </div>
                    
                    <div class="flow-step" data-step="4">
                        <h4>ğŸ“ Gitã‚³ãƒŸãƒƒãƒˆ</h4>
                        <p>å…¨ã¦ã®å¤‰æ›´ã‚’ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã§å®Ÿæ–½å¾Œã€developãƒ–ãƒ©ãƒ³ãƒã¸ãƒãƒ¼ã‚¸ã—ã¦ãƒªãƒã‚¸ãƒˆãƒªã«åæ˜ </p>
                    </div>
                    
                    <div class="highlight">
                        <h3>ğŸ‰ ã‚·ã‚¹ãƒ†ãƒ ã®ä¾¡å€¤</h3>
                        <p>ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã‚Šã€<strong>æ–°ã—ã„EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ç›£è¦–é–‹å§‹ãŒå®Œå…¨è‡ªå‹•åŒ–</strong>ã•ã‚Œã¦ã„ã¾ã™ã€‚é©åˆ‡ãªã‚¿ã‚°ã‚’ä»˜ä¸ã™ã‚‹ã ã‘ã§ã€æ•°åˆ†ä»¥å†…ã«New Relicç›£è¦–ãŒé–‹å§‹ã•ã‚Œã€åŒ…æ‹¬çš„ãªã‚¢ãƒ©ãƒ¼ãƒˆä½“åˆ¶ãŒæ§‹ç¯‰ã•ã‚Œã¾ã™ã€‚Infrastructure as Codeã®çœŸã®ä¾¡å€¤ã‚’å®Ÿç¾ã—ãŸã‚·ã‚¹ãƒ†ãƒ ã¨è¨€ãˆã‚‹ã§ã—ã‚‡ã†ã€‚</p>
                    </div>
                    
                    <div class="section">
                        <h3>ğŸ“Š ç›£è¦–å¯¾è±¡ãƒ¡ãƒˆãƒªã‚¯ã‚¹</h3>
                        <div class="resource-list">
                            <div class="resource-item">
                                <div class="resource-title">æ­»æ´»ç›£è¦–</div>
                                <div class="resource-detail">
                                    New Relicã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‹ã‚‰ã®ãƒãƒ¼ãƒˆãƒ“ãƒ¼ãƒˆç›£è¦–<br>
                                    ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆåœæ­¢ã‚„EC2ãƒ€ã‚¦ãƒ³ã‚’å³åº§ã«æ¤œçŸ¥
                                </div>
                            </div>
                            <div class="resource-item">
                                <div class="resource-title">CPUä½¿ç”¨ç‡</div>
                                <div class="resource-detail">
                                    WARN/CRITãƒ¬ãƒ™ãƒ«ã§ã®é–¾å€¤ç›£è¦–<br>
                                    é«˜è² è·çŠ¶æ…‹ã®æ—©æœŸæ¤œçŸ¥ã¨å¯¾å¿œ
                                </div>
                            </div>
                            <div class="resource-item">
                                <div class="resource-title">ãƒ¡ãƒ¢ãƒªä½¿ç”¨ç‡</div>
                                <div class="resource-detail">
                                    ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã‚„ãƒ¡ãƒ¢ãƒªä¸è¶³ã®ç›£è¦–<br>
                                    ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ€§èƒ½å•é¡Œã®äºˆé˜²
                                </div>
                            </div>
                            <div class="resource-item">
                                <div class="resource-title">ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨ç‡</div>
                                <div class="resource-detail">
                                    ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å®¹é‡ã®ç›£è¦–<br>
                                    ãƒ‡ã‚£ã‚¹ã‚¯æ¯æ¸‡ã«ã‚ˆã‚‹éšœå®³ã®äºˆé˜²
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        function showTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }
        
        // Add hover effects to diagram components
        document.addEventListener('DOMContentLoaded', function() {
            const components = document.querySelectorAll('.component');
            components.forEach(component => {
                component.addEventListener('mouseenter', function() {
                    this.style.filter = 'brightness(1.2) drop-shadow(0 5px 15px rgba(0,0,0,0.3))';
                });
                
                component.addEventListener('mouseleave', function() {
                    this.style.filter = 'none';
                });
                
                component.addEventListener('click', function() {
                    // Simple animation on click
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1)';
                    }, 150);
                });
            });
        });
        
        // Add smooth scrolling effect
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelector('.content').scrollTop = 0;
            });
        });
    </script>
</body>
</html>
